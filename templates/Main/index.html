{% extends "board_base.html" %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<style>
    .swiper { width: 100%; height: 250px; }
    .swiper-slide {
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        color: white; text-align: center; padding: 60px 20px;
    }
    .slide-1 { background-color: #002c40; }
    .slide-2 { background-color: #6c5ce7; }
    .slide-3 { background-color: #00b894; }
    .slide-4 { background-color: #d63031; }
    .slide-5 { background-color: #2d3436; }
    .swiper-pagination-bullet { background: white !important; }
</style>

<section class="banner swiper mySwiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide slide-1"><h1>ì„±ì¥ì˜ ì¦ê±°ì›€ì„ ê²½í—˜í•˜ì„¸ìš”</h1><p>ì‹¤ì „ ì§€ì‹ ğŸš€</p></div>
        <div class="swiper-slide slide-2"><h1>íŒŒì´ì¬ ë§ˆìŠ¤í„° ì½”ìŠ¤</h1><p>ğŸ</p></div>
        <div class="swiper-slide slide-3"><h1>ì‹ ê·œ íšŒì› ì´ë²¤íŠ¸</h1><p>ğŸ</p></div>
        <div class="swiper-slide slide-4"><h1>ì‹¤ì‹œê°„ 1:1 ë©˜í† ë§</h1><p>ğŸ’¬</p></div>
        <div class="swiper-slide slide-5"><h1>TikiTaka ì»¤ë®¤ë‹ˆí‹°</h1><p>ğŸ¤</p></div>
    </div>
    <div class="swiper-pagination"></div>
</section>

<main class="container my-5">

    {% if request.GET.show == "all" or request.GET.subject or q %}
        <h2 class="fs-4 fw-bold mb-4">
            {% if request.GET.subject %}
                {{ request.GET.subject }} ê°•ì˜ ëª©ë¡ ğŸ“š
            {% else %}
                ì „ì²´ ê°•ì˜ ëª©ë¡ ğŸš€
            {% endif %}
        </h2>
        
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            {% if course_list %}
                {% for course in course_list %}
                <div class="col">
                    <div class="card h-100 shadow-sm border-0"
                         style="cursor: pointer;"
                         onclick="location.href='/course/{{ course.id }}/'">

                        {% if course.thumbnail %}
                            <img src="{{ course.thumbnail.url }}"
                                 class="card-img-top"
                                 style="aspect-ratio: 16/10; object-fit: cover;">
                        {% else %}
                            <img src="{% static 'images/default_thumbnail.png' %}"
                                 class="card-img-top"
                                 style="aspect-ratio: 16/10; object-fit: cover;">
                        {% endif %}

                        <div class="card-body p-3">
                            <h5 class="card-title fs-6 fw-bold text-truncate mb-2">
                                {{ course.title }}
                            </h5>

                            <p class="card-text text-muted small mb-2">
                                {{ course.teacher }}
                            </p>

                            <p class="card-text fw-bold m-0" style="color: #6c5ce7;">
                                {% if course.price > 0 %}
                                    â‚©{{ course.price }}
                                {% else %}
                                    ë¬´ë£Œ
                                {% endif %}
                            </p>
                        </div>

                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center text-muted py-5">
                    ë“±ë¡ëœ ê°•ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.
                </div>
            {% endif %}
        </div>

    {% else %}
        <div class="row g-4">
            <div class="col-md-6">
                <div class="p-4 border rounded-3 shadow-sm h-100 bg-white">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="fs-5 fw-bold m-0">ğŸ“¢ ê³µì§€ì‚¬í•­</h3>
                        <a href="/Board/notice/" class="text-muted small text-decoration-none">ë”ë³´ê¸° +</a>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li class="py-2 border-bottom">
                            <a href="#" class="text-decoration-none text-dark">
                                TikiTaka ì»¤ë®¤ë‹ˆí‹° ì˜¤í”ˆ ì•ˆë‚´
                            </a>
                        </li>
                        <li class="py-2 border-bottom">
                            <a href="#" class="text-decoration-none text-dark">
                                ê°•ì˜ ì‹œì²­ ì‹œ ì£¼ì˜ì‚¬í•­ (í•„ë…)
                            </a>
                        </li>
                        <li class="py-2">
                            <a href="#" class="text-decoration-none text-dark">
                                1ì›” ì‹ ê·œ ê°•ì˜ ë¼ì¸ì—… ê³µê°œ
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-md-6">
                <div class="p-4 border rounded-3 shadow-sm h-100 bg-white">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3 class="fs-5 fw-bold m-0">ğŸ’¬ ìµœê·¼ ê²Œì‹œê¸€</h3>
                        <a href="/Board/free/" class="text-muted small text-decoration-none">ë”ë³´ê¸° +</a>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li class="py-2 border-bottom">
                            <a href="#" class="text-decoration-none text-dark">
                                íŒŒì´ì¬ ê³µë¶€ ê°™ì´í•´ìš”! (ì—´ê³µ)
                            </a>
                        </li>
                        <li class="py-2 border-bottom">
                            <a href="#" class="text-decoration-none text-dark">
                                ì¥ê³  view ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤.. ã…œã…œ
                            </a>
                        </li>
                        <li class="py-2">
                            <a href="#" class="text-decoration-none text-dark">
                                í˜„ì§ ê°œë°œì ë©˜í† ë§ í›„ê¸°
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    {% endif %}
</main>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    var swiper = new Swiper(".mySwiper", {
        loop: true,
        autoplay: { delay: 2000, disableOnInteraction: false },
        pagination: { el: ".swiper-pagination", clickable: true },
        speed: 800,
    });
</script>

{% endblock %}
{% extends "base.html" %}
{% block title %}1:1 대화{% endblock %}
{% block content %}
<div style="max-width:950px;margin:40px auto;padding:24px;background:#fff;border-radius:16px;">
  <h2 style="margin:0 0 6px 0;">{{ course.title }} · 1:1 대화</h2>
  <p style="margin:0 0 16px 0;color:#888;">
    강사: {{ teacher.username }} / 수강생: {{ student.username }}
  </p>

  <div style="border:1px solid #eee;border-radius:12px;padding:12px;min-height:280px;max-height:420px;overflow:auto;">
    {% for m in messages %}
      <div style="margin-bottom:10px;">
        <b>{% if m.sender_id == user.id %}나{% else %}상대{% endif %}</b>
        <span style="color:#888;font-size:12px;"> · {{ m.created_at|date:"Y-m-d H:i" }}</span>
        <div style="margin-top:4px;white-space:pre-wrap;">{{ m.content }}</div>
      </div>
    {% empty %}
      <p style="color:#888;">메시지가 없습니다.</p>
    {% endfor %}
  </div>

  <form method="post" style="display:flex;gap:10px;margin-top:12px;">
    {% csrf_token %}
    <input name="content" placeholder="메시지 입력" style="flex:1;padding:12px;border:1px solid #ddd;border-radius:10px;">
    <button type="submit" style="padding:12px 18px;border-radius:10px;border:none;background:#00c471;color:#fff;font-weight:800;">
      전송
    </button>
  </form>
</div>
{% endblock %}
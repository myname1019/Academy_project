{% extends "board_base.html" %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-md-3 border-end">
            <h4 class="fw-bold mb-3">학원안내</h4>
            <hr class="mb-4"> 
            <ul class="list-unstyled">
                <li class="mb-3">
                    <a href="{% url 'Board:notice_list' %}" class="text-decoration-none text-secondary">
                        &nbsp;&nbsp;공지사항
                    </a>
                </li>
                <li class="mb-3">
                    <a href="{% url 'Board:community_list' %}" class="text-decoration-none text-dark fw-bold">
                        ● 게시판
                    </a>
                </li>
            </ul>
        </div>

        <div class="col-md-9 ps-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="fw-bold mb-0">게시판</h3>
                {% if user.is_authenticated %}
                    <a href="{% url 'Board:community_create' %}" class="btn btn-dark">글쓰기</a>
                {% endif %}
            </div>

            <table class="table table-hover">
                <thead class="table-light">
                    <tr>
                        <th>번호</th>
                        <th>제목</th>
                        <th>작성자</th>
                        <th>날짜</th>
                    </tr>
                </thead>
                <tbody>
                    {% for post in community_list %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td class="text-start">
                            <a href="#" class="text-decoration-none text-dark">{{ post.title }}</a>
                        </td>
                        <td>{{ post.author.username }}</td> 
                        <td>{{ post.created_at|date:"Y-m-d" }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" class="text-center text-muted py-5">등록된 게시글이 없습니다.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
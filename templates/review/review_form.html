{% extends "base.html" %}
{% load static %}

{% block title %}리뷰 작성{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'review/css/review_form.css' %}">
{% endblock %}

{% block content %}
<div class="review-container surface">
  <h2 class="review-title">{{ course.title }} 리뷰 작성</h2>

  <form method="POST" class="review-form">
    {% csrf_token %}

    <!-- ⭐ 별점 선택 -->
    <div class="form-group">
      <label class="form-label">평점 선택</label>

      <div class="star-rating" id="starRating" role="radiogroup" aria-label="평점 선택">
        <button type="button" class="star" data-value="1" aria-label="1점">★</button>
        <button type="button" class="star" data-value="2" aria-label="2점">★</button>
        <button type="button" class="star" data-value="3" aria-label="3점">★</button>
        <button type="button" class="star" data-value="4" aria-label="4점">★</button>
        <button type="button" class="star" data-value="5" aria-label="5점">★</button>
      </div>

      <!-- 실제 폼 rating 필드 숨김 -->
      {{ form.rating.as_hidden }}
    </div>

    <!-- 리뷰 내용 -->
    <div class="form-group">
      <label class="form-label" for="{{ form.content.id_for_label }}">리뷰 내용</label>
      {{ form.content }}
    </div>

    <div class="btn-group">
      <a href="{% url 'course:course_detail' course.id %}" class="btn-secondary">
        취소
      </a>
      <button type="submit" class="btn-primary">
        리뷰 등록
      </button>
    </div>
  </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'review/js/review_form.js' %}"></script>
{% endblock %}
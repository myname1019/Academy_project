{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TiKiTaKa - 라이프타임 커리어 플랫폼</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>
    {% include "board_navbar.html" %}
    
    {% block content %}
    {% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    {% block script %}
    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    {% if messages %}
        <script>
            // 여러 개의 메시지가 있을 수 있으니 반복문으로 처리합니다
            {% for message in messages %}
                
                // 장고의 태그(danger, success 등)를 팝업창 아이콘(error, success 등)으로 변환
                let iconType = 'info';
                let msgTag = '{{ message.tags }}';
                
                if (msgTag.includes('danger')) { iconType = 'error'; }
                else if (msgTag.includes('success')) { iconType = 'success'; }
                else if (msgTag.includes('warning')) { iconType = 'warning'; }

                // 예쁜 팝업창 띄우기!
                Swal.fire({
                    icon: iconType,
                    title: '알림',
                    text: '{{ message }}',
                    confirmButtonColor: '#6c5ce7', // TikiTaka 보라색 테마에 맞춤!
                    confirmButtonText: '확인'
                });
                
            {% endfor %}
        </script>
    {% endif %}

</body>
</html>
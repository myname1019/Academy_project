{% extends 'base.html' %}
{% block title %}ì•„ì´ë”” ì°¾ê¸°{% endblock %}

{% block content %}
<style>
    /* ì „ì²´ ë°°ê²½ìƒ‰ (base.htmlì— ìˆë‹¤ë©´ ìƒëµ ê°€ëŠ¥) */
    body { background-color: #f5f7fa; }

    /* í™”ë©´ ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•œ ì»¨í…Œì´ë„ˆ */
    .find-container {
        min-height: 80vh; /* í™”ë©´ ë†’ì´ì˜ 80%ë§Œí¼ ì˜ì—­ í™•ë³´ */
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }

    /* 'math test' ìŠ¤íƒ€ì¼ì˜ ì¹´ë“œ ë°•ìŠ¤ */
    .find-card {
        background: #fff;
        border-radius: 16px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
        padding: 40px;       /* ë„‰ë„‰í•œ ë‚´ë¶€ ì—¬ë°± */
        box-shadow: 0 8px 30px rgba(0,0,0,0.05); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
        border: 1px solid #f1f3f5; /* ì–‡ì€ í…Œë‘ë¦¬ */
        width: 100%;
        max-width: 480px; /* ë„ˆë¬´ ë„“ì–´ì§€ì§€ ì•Šê²Œ ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
        text-align: center; /* ë‚´ë¶€ ì½˜í…ì¸  ê°€ìš´ë° ì •ë ¬ */
    }

    /* ì œëª© ìŠ¤íƒ€ì¼ */
    .find-title {
        font-size: 26px;
        font-weight: 900;
        color: #212529;
        margin-bottom: 30px;
    }

    /* í¼ ë¼ë²¨ ë° ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
    .form-label {
        font-weight: 700;
        color: #495057;
        text-align: left; /* ë¼ë²¨ì€ ì™¼ìª½ ì •ë ¬ */
        display: block;
        margin-bottom: 8px;
    }
    .form-control {
        width: 100%; /* ğŸ’¡ ì¹´ë“œ ë„ˆë¹„ì— ë§ì¶° 100% ê½‰ ì±„ìš°ê¸° */
        box-sizing: border-box; /* ğŸ’¡ í…Œë‘ë¦¬ì™€ ì—¬ë°±ì´ ì‚ì ¸ë‚˜ê°€ì§€ ì•Šê²Œ ê½‰ ì¡ì•„ì£¼ê¸° */
        padding: 12px 16px;
        border-radius: 10px;
        border: 1px solid #ced4da;
        margin-bottom: 24px; /* ì…ë ¥ì°½ ì•„ë˜ ì—¬ë°± */
        font-size: 16px;
    }

    /* ë³´ë¼ìƒ‰ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (TikiTaka í…Œë§ˆ) */
    .btn-find {
        background-color: #6c5ce7;
        border: none;
        padding: 14px;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 800;
        width: 100%; /* ë²„íŠ¼ ë„ˆë¹„ ê½‰ ì±„ìš°ê¸° */
        color: white;
        transition: background-color 0.2s;
    }
    .btn-find:hover {
        background-color: #5a4ad1; /* í˜¸ë²„ ì‹œ ì•½ê°„ ì–´ë‘¡ê²Œ */
    }

    /* ê²°ê³¼ í™”ë©´ ìŠ¤íƒ€ì¼ */
    .result-box {
        background-color: #f1f3f5; /* ê²°ê³¼ ê°•ì¡° ë°°ê²½ìƒ‰ */
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
    }
    .found-username {
        font-size: 24px;
        font-weight: 900;
        color: #6c5ce7; /* ì•„ì´ë”” ê°•ì¡°ìƒ‰ */
    }

    /* í•˜ë‹¨ ë§í¬ ìŠ¤íƒ€ì¼ */
    .back-link {
        display: block;
        margin-top: 20px;
        color: #868e96;
        text-decoration: none;
        font-weight: 700;
        font-size: 14px;
    }
    .back-link:hover {
        text-decoration: underline;
    }

    /* ë²„íŠ¼ë“¤ì„ ë‚˜ë€íˆ ë°°ì¹˜í•˜ëŠ” ë¬¶ìŒ ìƒì */
    .button-group {
        display: flex;
        gap: 12px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
        margin-top: 24px;
    }

    /* ë‹¤ì‹œ ì°¾ê¸° ë²„íŠ¼ (í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼) */
    .btn-outline-custom {
        background-color: #fff;
        border: 1px solid #ced4da;
        padding: 14px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 800;
        color: #495057;
        text-decoration: none;
        flex: 1; /* ë„ˆë¹„ ë°˜ë°˜ ë‚˜ëˆ  ê°€ì§€ê¸° */
        text-align: center;
        transition: 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .btn-outline-custom:hover {
        background-color: #f1f3f5;
        color: #212529;
    }

    /* ê¸°ì¡´ .btn-find ì— flex: 1; ì†ì„±ë§Œ ì¶”ê°€ (ë„ˆë¹„ ë§ì¶”ê¸°) */
    .btn-find {
        background-color: #6c5ce7;
        border: none;
        padding: 14px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 800;
        color: white;
        transition: background-color 0.2s;
        flex: 1; /* ğŸ’¡ ì´ ì¤„ ì¶”ê°€! ë„ˆë¹„ ë°˜ë°˜ ë‚˜ëˆ  ê°€ì§€ê¸° */
        text-align: center;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>

<div class="find-container">
    <div class="find-card">
        <h3 class="find-title">ğŸ” ì•„ì´ë”” ì°¾ê¸°</h3>

        {# ğŸ’¡ ì•„ì´ë””ë¥¼ ì°¾ì•˜ì„ ë•Œ ë³´ì—¬ì¤„ ê²°ê³¼ í™”ë©´ #}
        {% if username %}
            <p class="text-muted mb-3" style="font-size: 15px; line-height: 1.6;">
                ì…ë ¥í•˜ì‹  ì´ë©”ì¼(<b>{{ email }}</b>)ë¡œ<br>ê°€ì…ëœ ì•„ì´ë””ì…ë‹ˆë‹¤.
            </p>
            <div class="result-box">
                <span class="found-username">{{ username }}</span>
            </div>
            
            <div class="button-group">
                <a href="{% url 'common:login' %}" class="btn-find">ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°</a>
                <a href="{% url 'common:find_username' %}" class="btn-outline-custom">ë‹¤ì‹œ ì°¾ê¸°</a>
            </div>

        {# ğŸ’¡ ì•„ì´ë”” ì…ë ¥ í¼ í™”ë©´ #}
        {% else %}
            <form method="POST" action="{% url 'common:find_username' %}">
                {% csrf_token %}
                <div class="mb-3 text-start"> <label for="email" class="form-label">ê°€ì…í•œ ì´ë©”ì¼ ì£¼ì†Œ</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="example@gmail.com" required>
                </div>
                <button type="submit" class="btn btn-find">ì•„ì´ë”” ì°¾ê¸°</button>
            </form>
            <a href="{% url 'common:login' %}" class="back-link">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        {% endif %}
    </div>
</div>
{% endblock %}
{% extends 'base.html' %}
{% load static %}

{% block title %}ì˜ìƒ ì¶”ê°€ - {{ course.title }}{% endblock %}

{% block extra_css %}
<style>
    /* â˜€ï¸ ê¸°ë³¸(ë¼ì´íŠ¸) ëª¨ë“œ ìŠ¤íƒ€ì¼ */
    .lesson-form-card {
        max-width: 600px; 
        margin: 50px auto; 
        padding: 30px; 
        background: #ffffff; 
        border-radius: 12px; 
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        color: #333333;
    }
    .lesson-course-name {
        color: #6c5ce7;
    }
    .btn-cancel {
        background: #f8f9fa;
        color: #495057;
    }

    /* ğŸŒ™ ë‹¤í¬ëª¨ë“œ(.dark) ìŠ¤íƒ€ì¼ */
    body.dark .lesson-form-card {
        background: #2a2b36; /* ë‹¤í¬ëª¨ë“œìš© ì–´ë‘ìš´ ì¹´ë“œ ë°°ê²½ */
        color: #f8f9fa;      /* ë°ì€ ê¸€ì”¨ */
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    body.dark .lesson-course-name {
        color: #a29bfe; /* ë‹¤í¬ëª¨ë“œì—ì„œ ë” ì˜ ë³´ì´ëŠ” íŒŒìŠ¤í…” ë³´ë¼ìƒ‰ */
    }
    body.dark .btn-cancel {
        background: #3f4150; /* ì–´ë‘ìš´ íšŒìƒ‰ ë²„íŠ¼ */
        color: #e9ecef;
    }
    
    /* ğŸ’¡ ì¥ê³  {{ form.as_p }} ë¡œ ìƒì„±ë˜ëŠ” ì…ë ¥ì°½(input) ë‹¤í¬ëª¨ë“œ ëŒ€ì‘ */
    body.dark .lesson-form-card input[type="text"],
    body.dark .lesson-form-card input[type="number"],
    body.dark .lesson-form-card input[type="file"],
    body.dark .lesson-form-card select,
    body.dark .lesson-form-card textarea {
        background-color: #1e1e24;
        color: #ffffff;
        border: 1px solid #495057;
        border-radius: 6px;
        padding: 8px;
    }
</style>
{% endblock %}

{% block content %}
<div class="lesson-form-card">
    <h2 style="font-weight: 800; margin-bottom: 20px;">
    ğŸ¬ {% if lesson %}ì˜ìƒ ìˆ˜ì •í•˜ê¸°{% else %}ìƒˆ ì˜ìƒ ì¶”ê°€í•˜ê¸°{% endif %}
    </h2>
    <p class="lesson-course-name" style="font-weight: bold; margin-bottom: 30px;">ê°•ì˜ëª…: {{ course.title }}</p>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        
        <div style="display: flex; gap: 10px; margin-top: 30px;">
            <button type="submit" style="flex: 1; padding: 12px; background: #00c471; border: none; color: white; border-radius: 8px; font-weight: bold; cursor: pointer;">
                {% if lesson %}ìˆ˜ì • ì™„ë£Œ{% else %}ì˜ìƒ ì—…ë¡œë“œ{% endif %}
            </button>
            <a href="{% url 'course:course_detail' course.id %}" class="btn-cancel" style="flex: 1; text-align: center; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: bold;">
                ì·¨ì†Œ
            </a>
        </div>
    </form>
</div>
{% endblock %}
{% load static %}
<link rel="stylesheet" href="{% static 'common/css/navbar.css' %}">

<header>
  <div class="nav-top">
    <a href="/" class="logo">TiKiTaKa</a>

    <div class="search-bar">
      <form action="/search/" method="get">
        <input type="text" name="q" placeholder="ë°°ìš°ê³  ì‹¶ì€ ê²ƒì„ ê²€ìƒ‰í•´ ë³´ì„¸ìš”" value="{{ request.GET.q }}">
      </form>
    </div>

    <!-- âœ… ì˜¤ë¥¸ìª½ ë¬¶ìŒ: ë©”ë‰´ + í† ê¸€ -->
    <div class="nav-right">
      {% if user.is_anonymous %}
        <nav class="nav-menu">
          <a href="{% url 'common:signup' %}">íšŒì›ê°€ì…</a>
          <a href="{% url 'common:login' %}">ë¡œê·¸ì¸</a>
        </nav>
      {% else %}
        <nav class="nav-menu">
          <a href="{% url 'common:mypage' %}">ë‚´ í˜ì´ì§€</a>
          <form action="{% url 'common:logout' %}" method="post" class="logout-form">
            {% csrf_token %}
            <button type="submit" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
          </form>
        </nav>
      {% endif %}

      <!-- ğŸŒ™ ë©”ì¸ ì „ìš© ë‹¤í¬ëª¨ë“œ í† ê¸€ -->
      <button type="button" class="theme-toggle" id="themeToggle" aria-label="ë‹¤í¬ëª¨ë“œ ì „í™˜">ğŸŒ™</button>
    </div>
  </div>

  <div class="nav-bottom">
    <ul class="category-list">
      <li>
        <div class="dropdown">
          <a href="{% url 'Board:notice_list' %}" class="dropbtn">í•™ì›ì•ˆë‚´</a>
          <ul class="dropdown-content">
            <li><a href="{% url 'Board:notice_list' %}">ê³µì§€ì‚¬í•­</a></li>
            <li><a href="{% url 'Board:community_list' %}">ê²Œì‹œíŒ</a></li>
          </ul>
        </div>
      </li>
      <li><a href="/?show=all">ì „ì²´</a></li>
      <li><a href="/?subject=korean">êµ­ì–´</a></li>
      <li><a href="/?subject=math">ìˆ˜í•™</a></li>
      <li><a href="/?subject=english">ì˜ì–´</a></li>
      <li><a href="/?subject=social">ì‚¬íšŒ</a></li>
      <li><a href="/?subject=science">ê³¼í•™</a></li>
      <li><a href="/?subject=etc">ê¸°íƒ€</a></li>
    </ul>
  </div>
</header>

<!-- âœ… JS íŒŒì¼ë¡œ ë¶„ë¦¬ ì ìš© -->
<script src="{% static 'common/js/navbar_theme.js' %}"></script>